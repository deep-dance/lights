{"remainingRequest":"/home/erak/Dev/deep-dance/view/dmx-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/erak/Dev/deep-dance/view/dmx-ui/src/components/ControlBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/erak/Dev/deep-dance/view/dmx-ui/src/components/ControlBar.vue","mtime":1622074619627},{"path":"/home/erak/Dev/deep-dance/view/dmx-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erak/Dev/deep-dance/view/dmx-ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/erak/Dev/deep-dance/view/dmx-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erak/Dev/deep-dance/view/dmx-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQbGF5SWNvbiBmcm9tICIuLi9pY29ucy9QbGF5XzQuc3ZnIjsKaW1wb3J0IFBhdXNlSWNvbiBmcm9tICIuLi9pY29ucy9QYXVzZV80LnN2ZyI7CmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICIuL1Byb2dyZXNzQmFyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBQbGF5SWNvbiwKICAgIFBhdXNlSWNvbiwKICAgIFByb2dyZXNzQmFyLAogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgZnJhbWVJZHg6IDAsCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFsZXJ0SW52YWxpZCgpIHsKICAgICAgYWxlcnQoIlBsZWFzZSB1c2UgYSB2YWxpZCB0aW1lc3RhbXAsIGUuZyAxMzoxMi4iKTsKICAgICAgdGhpcy4kcmVmcy50aW1lSW5wdXQudmFsdWUgPSAiIgogICAgfSwKICAgIGFsZXJ0T3V0T2ZSYW5nZSgpIHsKICAgICAgYWxlcnQoIlRpbWVzdGFtcCBpcyBhZnRlciBlbmQgb2Ygc2VxdWVuY2UuIik7CiAgICAgIHRoaXMuJHJlZnMudGltZUlucHV0LnZhbHVlID0gIiIKICAgIH0sCiAgICBTZXRUaW1lKCkgewogICAgICB2YXIgdGltZSA9IHRoaXMuJHJlZnMudGltZUlucHV0LnZhbHVlOwogICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCdbMC05XVswLTldKjooWzAtOV1bMC05XSl7MX0nKTsKICAgICAgaWYgKCFyZS50ZXN0KHRpbWUpKSB7CiAgICAgICAgdGhpcy5hbGVydEludmFsaWQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgY29tcG9uZW50cyA9IHRpbWUuc3BsaXQoIjoiKTsKICAgICAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KGNvbXBvbmVudHNbMF0pOwogICAgICAgIHZhciBzZWNvbmRzID0gcGFyc2VJbnQoY29tcG9uZW50c1sxXSk7CiAgICAgICAgaWYgKG1pbnV0ZXMgPCAwIHx8IChzZWNvbmRzIDwgMCB8fCBzZWNvbmRzID4gNTkpKSB7CiAgICAgICAgICB0aGlzLmFsZXJ0SW52YWxpZCgpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSAobWludXRlcyAqIDYwKSArIHNlY29uZHM7CiAgICAgICAgICB2YXIgZnJhbWUgPSB0aW1lc3RhbXAgKiB0aGlzLiRzdG9yZS5zdGF0ZS5mcHM7CiAgICAgICAgICB2YXIgbWF4RnJhbWVzID0gCiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRKU09ORGF0YVsicmVkIl0ucG9zaXRpb25zKS5sZW5ndGggKiAKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5mcHM7CiAgICAgICAgICBpZiAoZnJhbWUgPiBtYXhGcmFtZXMpCiAgICAgICAgICAgIHRoaXMuYWxlcnRPdXRPZlJhbmdlKCk7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU2V0Q3VycmVudEZyYW1lIiwgZnJhbWUpOwogICAgICAgIH0KICAgICAgICAKICAgICAgfQogICAgfSwKICAgIFN0YXJ0QW5pbWF0aW9uKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNldEFuaW1hdGlvblN0YXR1cyIsIHRydWUpOwogICAgfSwKICAgIFBhdXNlQW5pbWF0aW9uKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNldEFuaW1hdGlvblN0YXR1cyIsIGZhbHNlKTsKICAgIH0sCiAgICBtYXBTZWNvbmRzKHZhbHVlLCBpbk1pbiwgaW5NYXgsIG91dE1pbiwgb3V0TWF4KSB7CiAgICAgIHJldHVybiAodmFsdWUgLSBpbk1pbikgKiAob3V0TWF4IC0gb3V0TWluKSAvIAogICAgICAgIChpbk1heCAtIGluTWluKSArIG91dE1pbjsKICAgIH0sCiAgICBjb252ZXJ0RnJhbWVUb1RpbWUoZnJhbWUpIHsKICAgICAgdmFyIHZhbHVlID0gTWF0aC5yb3VuZCgKICAgICAgICAoZnJhbWUgLyB0aGlzLiRzdG9yZS5zdGF0ZS5mcHMgLyA2MCkgKgogICAgICAgICAgMTAwCiAgICAgICkgLyAxMDA7CiAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcih2YWx1ZSk7CiAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5jZWlsKHRoaXMubWFwU2Vjb25kcyh2YWx1ZSAlIDEsIDAuMCwgMC45OTk5OSwgMCwgNTkpKTsKICAgICAgcmV0dXJuIG1pbnV0ZXMgKyAiOiIgKyAoc2Vjb25kcyA8IDEwID8gIjAiICsgc2Vjb25kcyA6IHNlY29uZHMpOwogICAgfSwKICAgIGNvbnZlcnRUaW1lVG9GcmFtZShtaW51dGVzLCBzZWNvbmRzKSB7CiAgICAgIHJldHVybiAwOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["ControlBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ControlBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"playhead\">\n    <div\n      v-if=\"this.$store.state.currentJSONData['red'] != null\"\n      id=\"controlBar\"\n    >\n      <PlayIcon\n        v-if=\"!this.$store.state.isPlaying\"\n        @click=\"StartAnimation()\"\n        class=\"icon\"\n      />\n      <PauseIcon\n        v-if=\"this.$store.state.isPlaying\"\n        @click=\"PauseAnimation()\"\n        class=\"icon\"\n      />\n      <ProgressBar />\n\n      <div class=\"minutes-control\">\n        <div class=\"minutes\">\n          {{ this.convertFrameToTime(this.$store.state.currentFrame) }}\n          /\n          {{ this.convertFrameToTime(\n            Object.keys(this.$store.state.currentJSONData[\"red\"].positions).length * 25) \n          }}\n        </div>\n        <input\n          @change=\"SetTime\"\n          value=\"\"\n          type=\"text\"\n          ref=\"timeInput\"\n          placeholder=\"mm:ss\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PlayIcon from \"../icons/Play_4.svg\";\nimport PauseIcon from \"../icons/Pause_4.svg\";\nimport ProgressBar from \"./ProgressBar\";\n\nexport default {\n  name: \"App\",\n  components: {\n    PlayIcon,\n    PauseIcon,\n    ProgressBar,\n  },\n  data: function () {\n    return {\n      frameIdx: 0,\n    };\n  },\n\n  methods: {\n    alertInvalid() {\n      alert(\"Please use a valid timestamp, e.g 13:12.\");\n      this.$refs.timeInput.value = \"\"\n    },\n    alertOutOfRange() {\n      alert(\"Timestamp is after end of sequence.\");\n      this.$refs.timeInput.value = \"\"\n    },\n    SetTime() {\n      var time = this.$refs.timeInput.value;\n      var re = new RegExp('[0-9][0-9]*:([0-9][0-9]){1}');\n      if (!re.test(time)) {\n        this.alertInvalid();\n      } else {\n        var components = time.split(\":\");\n        var minutes = parseInt(components[0]);\n        var seconds = parseInt(components[1]);\n        if (minutes < 0 || (seconds < 0 || seconds > 59)) {\n          this.alertInvalid();\n        }\n        else {\n          var timestamp = (minutes * 60) + seconds;\n          var frame = timestamp * this.$store.state.fps;\n          var maxFrames = \n            Object.keys(this.$store.state.currentJSONData[\"red\"].positions).length * \n              this.$store.state.fps;\n          if (frame > maxFrames)\n            this.alertOutOfRange();\n          else\n            this.$store.commit(\"SetCurrentFrame\", frame);\n        }\n        \n      }\n    },\n    StartAnimation() {\n      this.$store.commit(\"SetAnimationStatus\", true);\n    },\n    PauseAnimation() {\n      this.$store.commit(\"SetAnimationStatus\", false);\n    },\n    mapSeconds(value, inMin, inMax, outMin, outMax) {\n      return (value - inMin) * (outMax - outMin) / \n        (inMax - inMin) + outMin;\n    },\n    convertFrameToTime(frame) {\n      var value = Math.round(\n        (frame / this.$store.state.fps / 60) *\n          100\n      ) / 100;\n      var minutes = Math.floor(value);\n      var seconds = Math.ceil(this.mapSeconds(value % 1, 0.0, 0.99999, 0, 59));\n      return minutes + \":\" + (seconds < 10 ? \"0\" + seconds : seconds);\n    },\n    convertTimeToFrame(minutes, seconds) {\n      return 0;\n    }\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\n#playhead {\n  /* height: 155vh; */\n}\n#controlBar {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  width: 100%;\n}\n.icon {\n  width: 3%;\n  /* min-height: 30px; */\n  margin-right: 3px;\n  display: inline-block;\n  vertical-align: middle;\n  background-size: cover;\n}\n\n.frames {\n  height: 30px;\n  margin-right: 3px;\n  margin-top: -15px;\n}\n.filename {\n  margin: 10px 10px;\n\n} \n.minutes-control {\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 16pt;\n  margin-top: 20px;\n  width: 100%;\n}\n.minutes {\n  display: block;\n  width: 82%;\n  margin: 0;\n  float: left;\n  padding: 7px 0px 0 0;\n  text-align: right;\n}\ninput {\n  width: 15%;\n  background-color: #2c3e50;\n  border: 1px solid #32bea6;\n  color: #32bea6;\n  height: 40px;\n  text-align: center;\n  font-size: 1rem;\n  float: right;\n  margin-left: 10px;\n}\n</style>\n"]}]}